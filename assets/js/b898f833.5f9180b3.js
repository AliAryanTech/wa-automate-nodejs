"use strict";(self.webpackChunkdocs_v_3=self.webpackChunkdocs_v_3||[]).push([[3391],{3905:(e,t,r)=>{r.d(t,{Zo:()=>u,kt:()=>m});var a=r(7294);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},n=Object.keys(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)r=n[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=a.createContext({}),l=function(e){var t=a.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},u=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var r=e.components,o=e.mdxType,n=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=l(r),m=o,h=p["".concat(c,".").concat(m)]||p[m]||d[m]||n;return r?a.createElement(h,i(i({ref:t},u),{},{components:r})):a.createElement(h,i({ref:t},u))}));function m(e,t){var r=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=r.length,i=new Array(n);i[0]=p;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var l=2;l<n;l++)i[l]=r[l];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}p.displayName="MDXCreateElement"},7678:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var a=r(7462),o=(r(7294),r(3905));const n={title:"Get started with wa-automate via Docker",sidebar_label:"Docker",description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence."},i=void 0,s={unversionedId:"get-started/docker",id:"get-started/docker",title:"Get started with wa-automate via Docker",description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence.",source:"@site/docs/get-started/docker.md",sourceDirName:"get-started",slug:"/get-started/docker",permalink:"/docs/get-started/docker",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/get-started/docker.md",tags:[],version:"current",frontMatter:{title:"Get started with wa-automate via Docker",sidebar_label:"Docker",description:"Guide showing how to use wa-automate with Docker. This also covers how to import data as well as persistence."},sidebar:"tutorialSidebar",previous:{title:"Installation",permalink:"/docs/get-started/installation"},next:{title:"Easy API",permalink:"/docs/get-started/quick-run"}},c={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Run the container (EASY API)",id:"run-the-container-easy-api",level:2},{value:"Custom code",id:"custom-code",level:2}],u={toc:l};function d(e){let{components:t,...r}=e;return(0,o.kt)("wrapper",(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"open-wa has universal images on\n",(0,o.kt)("a",{parentName:"p",href:"%7B@dockerUrl@%7D"},"Docker Hub"),"."),(0,o.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"Make sure you have docker installed on your system and are not using a Apple silicon chip. Due to the lack of an ARM compatibile Google Chrome, the docker container does not run on ARM machines."),(0,o.kt)("h2",{id:"run-the-container-easy-api"},"Run the container (EASY API)"),(0,o.kt)("p",null,"You can use the following docker command as a drop-in replacement for the normal CLI command (",(0,o.kt)("inlineCode",{parentName:"p"},"npx @open-wa/wa-automate"),"). This means you can use CLI flags normally right after ",(0,o.kt)("inlineCode",{parentName:"p"},"docker run openwa/wa-automate"),". The below example runs the library in socket mode."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"> docker run openwa/wa-automate --socket\n")),(0,o.kt)("p",null,"The docker image already has some defaults that do not need to be set via additional CLI flags."),(0,o.kt)("h2",{id:"custom-code"},"Custom code"),(0,o.kt)("p",null,"You can extend the docker image and use it as a base for your own custom project. This is useful so you don't have to worry about dependencies. The image is optimised and slimmed out to prevent needless bloat."),(0,o.kt)("p",null,"First thing you need to do is to override the ",(0,o.kt)("inlineCode",{parentName:"p"},"ENTRYPOINT")," of the base docker image by adding the line ",(0,o.kt)("inlineCode",{parentName:"p"},"ENTRYPOINT []")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-Dockerfile"},"FROM openwa/wa-automate\nENTRYPOINT []\n\n# Now you can add your custom docker commands\n")),(0,o.kt)("p",null,"After the above, add your custom docker commands to ",(0,o.kt)("inlineCode",{parentName:"p"},"COPY")," your custom code into the image and then ",(0,o.kt)("inlineCode",{parentName:"p"},"RUN")," it at the end."),(0,o.kt)("p",null,"Both methods are explained in the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/open-wa/wa-automate-docker"},(0,o.kt)("inlineCode",{parentName:"a"},"@open-wa/wa-automate-docker"))," repository."))}d.isMDXComponent=!0}}]);