"use strict";(self.webpackChunkdocs_v_3=self.webpackChunkdocs_v_3||[]).push([[1460],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var o=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=o.createContext({}),l=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=l(e.components);return o.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=l(n),f=i,m=d["".concat(c,".").concat(f)]||d[f]||p[f]||r;return n?o.createElement(m,a(a({ref:t},u),{},{components:n})):o.createElement(m,a({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,a=new Array(r);a[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var l=2;l<r;l++)a[l]=n[l];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4546:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var o=n(7462),i=(n(7294),n(3905));const r={sidebar_label:"The Config Object",description:"Guide showing how to edit the settings.",sidebar_position:0},a="Configration",s={unversionedId:"configuration/config-object",id:"configuration/config-object",title:"Configration",description:"Guide showing how to edit the settings.",source:"@site/docs/configuration/config-object.md",sourceDirName:"configuration",slug:"/configuration/config-object",permalink:"/docs/configuration/config-object",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/configuration/config-object.md",tags:[],version:"current",sidebarPosition:0,frontMatter:{sidebar_label:"The Config Object",description:"Guide showing how to edit the settings.",sidebar_position:0},sidebar:"tutorialSidebar",previous:{title:"INTRODUCTION",permalink:"/docs/intro"},next:{title:"The Client",permalink:"/docs/configuration/the-client"}},c={},l=[{value:"Timing out an unpaired session",id:"timing-out-an-unpaired-session",level:2},{value:"Emitting a limited amount of qr codes",id:"emitting-a-limited-amount-of-qr-codes",level:2},{value:"Open with browser",id:"open-with-browser",level:2}],u={toc:l};function p(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,o.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"configration"},"Configration"),(0,i.kt)("p",null,"There are quite a few ways you can customize your session."),(0,i.kt)("p",null,"Find out about all possible options here: ","[api.ConfigObject]"),(0,i.kt)("p",null,"Set the desired config options as parameter on ","[create]","."),(0,i.kt)("p",null,"In the following example:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"The process tries to find and run a chrome installation instead of using the default chromium (chrome is required to send videos & GIFS) ","[ConfigObject.useChrome]"),(0,i.kt)("li",{parentName:"ol"},"Automatically refreshes the QR code at regular intervals ","[ConfigObject.autoRefresh]"),(0,i.kt)("li",{parentName:"ol"},"Disables the cache (may be useful to optimize memory consumption) ","[ConfigObject.cacheEnabled]"),(0,i.kt)("li",{parentName:"ol"},"Sets the session Id to ",(0,i.kt)("inlineCode",{parentName:"li"},"hr")," (this will result in a file called ",(0,i.kt)("inlineCode",{parentName:"li"},"hr.data.json")," being saved to the process working directory) ","[ConfigObject.sessionId]")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"const { create, Client } = require('@open-wa/wa-automate');\n// or\n// import { create, Client } from '@open-wa/wa-automate';\n\nconst launchConfig = {\n    useChrome: true,\n    autoRefresh:true,\n    cacheEnabled:false,\n    sessionId: 'hr'\n};\n\n\nfunction start(client) {\n  client.onMessage(async message => {\n    if (message.body === 'Hi') {\n      await client.sendText(message.from, '\ud83d\udc4b Hello!');\n    }\n  });\n}\n\ncreate(launchConfig).then(start);\n\n")),(0,i.kt)("h2",{id:"timing-out-an-unpaired-session"},"Timing out an unpaired session"),(0,i.kt)("p",null,"If you want to kill the process after a certain amount of seconds due to an unscanned code, you can now set the qrTimeout parameter in the configuration object. You can also use authTimeout if you want to wait only a certain period of time to wait for the session to connect to the phone."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"create({\n  qrTimeout: 30, //kills the session if the QR code is not scanned within 30 seconds.\n  authTimeout: 30 //kills the session if the session hasn't authentication 30 seconds (e.g If the session has the right credentials but the phone is off).\n})\n.then(client => start(client));\n")),(0,i.kt)("h2",{id:"emitting-a-limited-amount-of-qr-codes"},"Emitting a limited amount of qr codes"),(0,i.kt)("p",null,"Set ","[ConfigObject.maxQr]"," to limit the amount of QR codes to show before closing the process."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"create({\n    maxQr:10,\n}).then(async client => await start(client));\n")),(0,i.kt)("h2",{id:"open-with-browser"},"Open with browser"),(0,i.kt)("p",null,"The actual browser window you use is called a ",(0,i.kt)("inlineCode",{parentName:"p"},"head"),", by default the library runs a chrome session ",(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("em",{parentName:"strong"},"headless"))," (i.e in the background - you don't see it). If you want the browser to open up to see what's going on you can set ",(0,i.kt)("inlineCode",{parentName:"p"},"ConfigObject.headless")," to ",(0,i.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-javascript"},"create({\n  headless: false\n}).then(async client => await start(client));\n")))}p.isMDXComponent=!0}}]);